---
title: 2024 Cloudflare 开发者周观察：技术创新与全栈开发体验的革新
description: 在 2024 年的 Cloudflare Developer Week 上，我们见证了一系列创新的发布，这些发布不仅彰显了 Cloudflare 对开发者社区的深切承诺，也预示着未来互联网技术的发展方向。从全栈开发体验的优化到人工智能的深度整合，Cloudflare 推出的每一项新功能都是对现有技术边界的突破，旨在为全球的开发者们提供更加强大、灵活和高效的工具和服务。
date: 2024-04-10
category: dev
tags: Cloudflare, Developer Week 2024, innovation, full-stack development, Workers AI, D1 database, Hyperdrive, real-time object binding, serverless computing, performance optimization
slug: 2024-cloudflare-developer-week-innovations
cover: /covers/cover2.jpeg
---

## 引言
2024 年的 Cloudflare Developer Week 无疑是一场技术盛宴，它不仅展示了 Cloudflare 对开发者社区的深切承诺，也预示着未来互联网技术的发展方向。从全栈开发体验的优化到人工智能的深度整合，Cloudflare 推出的每一项新功能都是对现有技术边界的突破，旨在为全球的开发者们提供更加强大、灵活和高效的工具和服务。

在这次活动中，Cloudflare 强调了将想法变为现实的过程，虽然充满乐趣，却也充满挑战。他们认为，一个好的平台不仅要提供所需的组件，更要确保这些组件能够无缝协作，让开发者的工作更加轻松。通过 Workers 服务的绑定等方式，Cloudflare 为开发者提供了一个集成的开发体验，并分享了对统一数据平台的愿景。他们还提到了连接云的概念，即让开发者能够轻松地将服务连接到现有的基础设施或其他提供商，确保应用程序无论后端位于何处都能保持快速和全球化的体验。

Cloudflare 通过一系列创新的发布，如 D1 GA、Hyperdrive、Queues 和 Workers Analytics Engine 等，简化了全栈开发流程。D1，这个无服务器 SQL 数据库，现在正式投入生产，提供了支持大容量数据库、数据导出和增强查询调试等功能。Hyperdrive 让现有的集中式数据库表现得像分布式数据库一样，提供了更快的访问速度和更好的连接管理。Workers Analytics Engine 通过内置 API 允许开发者从 Workers 写入数据点，并使用 SQL API 进行查询。

此外，Cloudflare 还介绍了 Workers 环境变量中的实时对象绑定，这种设计不仅减少了模板代码，更重要的是，它提升了安全性，特别是在防御 SSRF 攻击方面表现出色。因为通过绑定，Workers 无法访问未授权的内部服务，从而避免了潜在的安全漏洞。

在人工智能领域，Cloudflare 宣布了一系列关于 Workers AI 推理平台的重要更新和新功能。Workers AI 推理平台已经从开放测试阶段进入到全面可用（GA）的阶段，这意味着它现在拥有了更高的性能和可靠性。Cloudflare 通过升级内置的负载平衡技术，使得请求可以被路由到更多城市的 GPU 上，从而提高了处理速度和效率。

Cloudflare 还推出了使用 Pyodide 和 WebAssembly 将 Python 引入 Workers 的创新，这使得开发者可以使用 Python 来编写 Cloudflare Workers，并且能够从第一天起就支持所有绑定。此外，Cloudflare 还宣布了 Workers 现在支持 Python 编程语言，使得开发者可以使用 Python 编写 Cloudflare Workers，支持所有 Cloudflare 资源的绑定。

在数据平台方面，Cloudflare 发布了新的数据平台服务，旨在帮助开发者更轻松地处理数据。文章的核心在于三个新工具：事件通知、Pipelines 和 Workflows。事件通知服务允许开发者在数据发生变化时触发异步任务。Pipelines 是一个即将推出的服务，用于大规模地摄取、聚合数据，并直接写入 Cloudflare R2 对象存储服务。Workflows 是 Cloudflare 的另一种创新，它是一种持久执行的工作流，能够在计算资源出现故障时从中断的地方恢复执行。

Picsart 的案例展示了一个全球性服务如何通过技术创新和优化，克服了物理限制，提供了更好的用户体验。这个故事不仅仅是关于性能提升的数字游戏，更是关于如何在全球化的挑战中找到突破点，实现技术和业务双赢的精彩篇章。

总的来说，2024 年 Cloudflare Developer Week 的活动为开发者们带来了一系列令人兴奋的新技术和工具，这些创新将极大地推动互联网技术的发展，并为全球的开发者社区提供更加强大和灵活的开发体验。随着这些新功能的推出，我们期待看到更多创新的应用程序和服务的出现，共同构建一个更加智能、高效和安全的互联网世界。

## Cloudflare Developer Week 2024 文章列表

1. **[欢迎来到 2024 年开发者周](https://blog.cloudflare.com/welcome-to-developer-week-2024)**
- 2024 年的开发者周，Cloudflare 带来了一场技术盛宴，旨在为开发者们提供从前端到后端，再到人工智能的全栈云开发体验。文章中，Cloudflare 强调了将想法变为现实的过程，虽然充满乐趣，却也充满挑战。他们认为，一个好的平台不仅要提供所需的组件，更要确保这些组件能够无缝协作，让开发者的工作更加轻松。
- Cloudflare 通过 Workers 服务的绑定等方式，为开发者提供了一个集成的开发体验，并且分享了对统一数据平台的愿景。他们还提到了连接云的概念，即让开发者能够轻松地将服务连接到现有的基础设施或其他提供商，确保应用程序无论后端位于何处都能保持快速和全球化的体验。
- 文章中还提到了实验的重要性，Cloudflare 鼓励开发者进行创新尝试，并提供慷慨的免费层级支持这一过程。他们认为，实验是创新不可或缺的一部分，即使失败了，也是通往成功的必经之路。
- 特别引人注目的是，Cloudflare 对于从演示到生产的转变有着深刻的理解。他们提供了支持这一过程的工具和服务，帮助开发者在发布产品时获得信心，并在出现问题时快速定位和解决。对于 AI 应用开发，Cloudflare 提出了独特的愿景，即为开发者提供所需的工具，以有效管理和部署 AI 工作负载，而无需为闲置计算资源支付额外费用。
- 文章最后，Cloudflare 预告了即将到来的一系列公告，并邀请开发者关注其博客和社交媒体更新，以便及时了解最新动态。同时，他们强调了帮助构建更好互联网的使命，并提供了关于其产品、服务和职业机会的更多信息。

2. **[使用 D1 GA、Hyperdrive、Queues 和 Workers Analytics Engine 更新使状态变得简单](https://blog.cloudflare.com/making-full-stack-easier-d1-ga-hyperdrive-queues)**
- Cloudflare 在其开发者周宣布了三项重要产品的全面上市（GA），旨在简化全栈开发流程。D1，这个无服务器 SQL 数据库，现在正式投入生产，提供了支持大容量数据库、数据导出和增强查询调试等功能。D1 的亮点在于其读取复制功能，能够自动部署读取副本，让数据更靠近用户，同时避免了一致性问题。
- Hyperdrive 也迎来了 GA，这个工具能让现有的集中式数据库表现得像分布式数据库一样，提供了更快的访问速度和更好的连接管理。Hyperdrive 支持多种流行的数据库驱动和 ORM 库，而且对于使用 Workers Paid 计划的开发者来说，完全免费。
- Workers Analytics Engine，这个时间序列数据库也宣布了 GA，它通过内置 API 允许开发者从 Workers 写入数据点，并使用 SQL API 进行查询。它的定价基于写入的数据点和读取查询，简单明了，且没有额外的维度或复杂性惩罚。
- 此外，Cloudflare 还介绍了队列（Queues）功能的新进展，包括基于拉动的消费者和新的消息传递控制。这些功能使得任何支持 HTTP 的客户端都可以从队列中拉取消息，为异步任务处理提供了更多灵活性。队列功能还支持延迟消息，有助于安排未来任务或应对上游 API 的速率限制。
- Cloudflare 强调了其产品的可靠性，确保消息不会丢失或延迟，这对于用户体验至关重要。在未来几个月，Cloudflare 计划进一步提高队列的吞吐量，以实现更高的性能和可靠性。

3. **[为什么 Workers 环境变量包含实时对象](https://blog.cloudflare.com/workers-environment-live-object-bindings)**
- 这篇文章带我们深入了解了 Cloudflare Workers 的一个独特特性——环境变量中的实时对象绑定。想象一下，如果你的代码能够直接和数据库、认证服务等资源对话，而不需要通过繁琐的密钥和设置，那会是多么轻松的开发体验！这就是 Cloudflare Workers 带给我们的便利。
- 文章首先通过一个简单的例子展示了 Workers KV 存储的使用，让人惊讶的是，这里的环境变量 `env.MY_KV` 竟然是一个可以直接调用 `get()` 方法的对象，而不是我们通常认为的字符串。这种设计不仅减少了模板代码，更重要的是，它提升了安全性，特别是在防御 SSRF 攻击方面表现出色。因为通过绑定，Workers 无法访问未授权的内部服务，从而避免了潜在的安全漏洞。
- 文章接着讨论了绑定如何简化 API 密钥管理，因为没有了密钥的传递和存储，也就不存在密钥泄露的风险。这一点对于那些担心安全问题的开发者来说无疑是个福音。同时，绑定还省去了证书管理的麻烦，因为所有的服务间通信都是通过安全的绑定进行的。
- 在提升开发者体验方面，绑定让设置变得更简单，增强了代码的可观察性和可测试性。通过依赖注入，开发者可以轻松地在不同环境之间切换，使得代码更加灵活和适应性强。
- 文章还巧妙地提出了一个问题：为什么 `env` 是作为 `fetch()` 函数的参数传递的，而不是作为全局变量存在？这是因为 Cloudflare 鼓励开发者设计出易于组合和依赖注入的代码，这样的设计不仅使得代码更加模块化，而且提高了代码的可维护性。
- 总的来说，Cloudflare Workers 的绑定机制是一个创新的特性，它不仅让开发过程更加流畅，还大大提高了应用的安全性。这篇文章为我们揭示了背后的设计理念和实现细节，对于那些对现代云开发感兴趣的读者来说，绝对值得一读。

4. **[构建 D1：全球数据库](https://blog.cloudflare.com/building-d1-a-global-database)**
- 云服务领域的大佬 Cloudflare 最近又有新动作，他们推出了一款名为 D1 的全球数据库，这款产品可谓是无服务器技术的集大成者。D1 利用了 SQLite 的 SQL 方言，并且提供了丰富的开发者工具集成，比如 Drizzle ORM，让开发者可以更加便捷地构建和管理应用程序。
- D1 的亮点在于它的无服务器特性，这意味着开发者无需操心资源配置和灾难恢复，只需按使用量付费即可。而且，D1 还非常慷慨地提供了免费层，让开发者可以尽情实验和探索。文章中提到，D1 的目标是解决全球分布式应用程序中的数据放置问题。通过异步读取复制技术，D1 能够在多个服务器上创建主数据库的只读副本，从而提高性能和降低查询延迟。
- 文章还介绍了 D1 的一致性模型和如何通过 Lamport 时间戳实现顺序一致性。Cloudflare 通过引入会话概念来扩展 D1 API，确保在同一个逻辑会话中的所有查询都能够按照顺序一致性模型执行。这种方法不仅提高了效率，还能够应对请求被路由到不同副本的情况。
- 除了这些技术细节，D1 GA 版本还带来了一些实用的新功能，比如支持更大的数据库、导入导出批量数据的能力，以及调试查询性能的工具。这些功能的加入，无疑会让 D1 成为开发者构建应用程序的得力助手。
- 总的来说，D1 的推出是 Cloudflare 在构建更好互联网道路上的又一次大胆尝试。它不仅提供了强大的数据库功能，还通过无服务器技术和全球分布的数据库副本，为开发者带来了前所未有的便利。

5. **[升级 Workers AI：正式推出更多新功能](https://blog.cloudflare.com/workers-ai-ga-huggingface-loras-python-support)**
- Cloudflare在2024年开发者周的人工智能日宣布了一系列关于Workers AI推理平台的重要更新和新功能。首先，Workers AI推理平台已经从开放测试阶段进入到全面可用（GA）的阶段，这意味着它现在拥有了更高的性能和可靠性。Cloudflare通过升级内置的负载平衡技术，使得请求可以被路由到更多城市的GPU上，从而提高了处理速度和效率。此外，Cloudflare还大幅提升了所有模型的速率限制，使得大型语言模型（LLMs）的请求限制从每分钟50次提升到300次，小型模型的请求限制则在每分钟1500到3000次之间。
- 为了降低成本，Cloudflare对模型进行了优化，使得Llama 2和Mistral 7B等热门模型的运行成本大幅下降。从4月1日起，非测试版模型开始计费，同时Cloudflare为所有客户提供每天10,000个神经元的免费额度。新的仪表板和AI操场也得到了更新，提供了更好的用户体验和更多的功能，使得开发者可以更加方便地测试和比较不同的模型。
- 在全球部署方面，Cloudflare计划在2024年底之前在几乎所有地方部署经过推理调整的GPU，目前在全球150多个城市已经部署了GPU。新一代的计算服务器预计将在2024年第二季度推出，这将带来更好的性能、能效和可靠性。
- Cloudflare还加强了与Hugging Face的合作，现在用户可以在Hugging Face上找到流行的模型，并在Workers AI平台上运行。目前，Cloudflare已经与Hugging Face共同策划了14个模型，可用于无服务器GPU推理，并计划未来推出更多模型。
- 此外，Cloudflare推出了自带LoRAs（BYO LoRAs）的功能，这是一种微调模型参数的方法，可以在运行时将LoRA适配器应用于基础模型，实现微调推理，同时减少成本和计算开销。目前，这项功能对Gemma 2B和7B、Llama 2 7B和Mistral 7B模型开放测试。
- Cloudflare还宣布了Workers现在支持Python编程语言，使得开发者可以使用Python编写Cloudflare Workers，支持所有Cloudflare资源的绑定。Python Workers的编写和配置过程非常简单，无需额外的工具链或预编译步骤。
- AI Gateway产品新增了对Anthropic、Azure、AWS Bedrock、Google Vertex和Perplexity的支持，帮助开发者更好地控制和观察他们的AI应用。即将推出的持久日志功能将允许开发者将日志推送到对象存储，添加自定义元数据和机密管理，以更安全地管理API密钥。
- Vectorize自开放测试以来新增了元数据过滤功能，允许开发者结合矢量搜索和任意元数据过滤，支持AI应用中的复杂查询。Vectorize预计将在2024年6月全面上市，届时将支持数百万个矢量索引。
- 总的来说，Cloudflare通过这些新功能和服务的推出，旨在打造一个更加强大、更加友好的AI开发环境，为开发者提供了更多的可能性和便利。这些更新不仅提升了Workers AI的性能和可用性，也为AI技术的发展和创新打开了新的大门。

6. **[使用 Pyodide 和 WebAssembly 将 Python 引入 Workers](https://blog.cloudflare.com/python-workers)**
- Cloudflare Workers 现在正式支持 Python 编程语言，这是通过将 Python 实现直接集成到开源的 Workers 运行时 workerd 中实现的。这项新功能使得开发者可以使用 Python 来编写 Cloudflare Workers，并且能够从第一天起就支持所有绑定，包括与 Vectorize、Workers AI、R2、Durable Objects 等的绑定。此外，Python Workers 还能够导入一系列流行的 Python 包，例如 FastAPI、Langchain、Numpy 等，而且整个过程无需额外的构建步骤或外部工具链。
- 为了实现 Python 在 Workers 上的运行，Cloudflare 必须对运行时、部署系统以及 Worker 捆绑程序的内容进行改进。文章详细介绍了 Python Worker 的内部生命周期，并分享了在这一过程中获得的经验和未来的发展方向。特别是，文章强调了超越 "编译成 WebAssembly 即可" 的局限，说明了真正支持一种编程语言需要做的工作远不止于此。
- 文章还深入探讨了 Pyodide 的工作原理，它是一个将 CPython 移植到 WebAssembly 的项目，允许 Python 代码在网络浏览器中运行。Pyodide 通过外来函数接口（FFI）为 Python 和 JavaScript 提供了互操作性，使得开发者可以直接使用 JavaScript 功能。此外，文章还讨论了动态链接的重要性，这是实现在 Workers 环境中共享运行时代码足迹的关键技术。
- Cloudflare 通过生成内存快照来加速 Python Worker 的冷启动时间，这是通过在部署时执行昂贵的导入包操作来实现的，从而避免了在每次请求时重复这些操作。文章还提到了如何通过兼容性日期和兼容性标志来管理 Pyodide 和 Python 包的新版本，确保 Worker 的长期稳定运行。
- 最后，文章展望了未来，Cloudflare 计划为 Python Workers 提供更多 Pythonic 的 API，并致力于使 Python Workers 与 Python 生态系统更加兼容。这表明 Cloudflare 致力于推动 Python 在服务器端的应用，并希望为开发者提供标准化的无服务器 API，以便任何 Python 开发者都能够轻松地使用 Cloudflare Workers 平台。

7. **[使用 LoRAs 在 Workers AI 上运行微调模型](https://blog.cloudflare.com/fine-tuned-inference-with-loras)**
- Cloudflare 刚刚宣布了一个令人振奋的消息：他们将 LoRAs 技术引入了 Workers AI 平台，使得微调大型语言模型（LLMs）变得更加高效和便捷。LoRAs 技术的核心优势在于它能够在不改变预训练模型的基础上，通过引入额外的微调权重来调整模型的行为，从而实现特定任务的优化。这种方法不仅大大减少了所需的计算资源和存储空间，还能够保持较低的推理延迟，使得微调后的模型更加灵活和便携。
- 文章详细介绍了微调的概念，即通过继续训练AI模型以提高其生成结果与特定数据集的相似性。传统的微调方法需要调整模型的所有参数，而LoRAs则避免了这种做法，它通过引入新的参数矩阵来实现微调，这些参数矩阵相对于原始模型的参数矩阵来说非常小，因此训练和部署的成本都大大降低。
- Cloudflare 的 Workers AI 平台特别适合运行 LoRAs，因为它采用无服务器推理方式，模型始终预加载在 GPU 上，确保了请求的快速响应。用户可以动态加载和更换 LoRA 适配器，甚至可以为同一个基础模型插入多个适配器，满足多个不同的微调推理请求。
- 目前，Cloudflare 允许用户在 Mistral、Llama 和 Gemma 等模型上使用 LoRAs，并提供了相应的模型版本，用户可以通过在模型名称后添加 -lora 后缀来访问。用户可以自己训练 LoRA 适配器，或者使用 Hugging Face 上的开源适配器。此外，Cloudflare 还计划在未来支持更多的模型和任务类型，包括图像生成等。
- 在技术实现方面，Cloudflare 通过 Punica CUDA 内核设计和全局缓存优化，解决了多租户 LoRA 服务在 GPU 资源利用上的挑战。Punica 内核允许 GPU 存储单一的预训练模型副本，同时服务不同的 LoRA 模型，通过分段聚集矩阵-矢量乘法（SGMV）技术，实现了对不同请求的特征权重乘法的并行处理，提高了性能。
- 最后，Cloudflare 对于 Workers AI 的愿景是成为开发者运行 AI 工作负载的最佳场所，他们希望最终能够在 Workers AI 上直接运行微调训练工作和完全微调模型。通过 AI 网关，开发者可以使用生产数据对模型进行微调，实现个性化的 AI 模型。Cloudflare 期待通过这些创新，让 AI 在组织中发挥更大的作用，为开发者提供更细粒度和细节的模型，以适应特定的任务需求。

8. **[使用管道、事件通知和工作流实现数据的无处不在](https://blog.cloudflare.com/data-anywhere-events-pipelines-durable-execution-workflows)**
- Cloudflare最近发布了一篇博客，介绍了他们新的数据平台服务，旨在帮助开发者更轻松地处理数据。文章的核心在于三个新工具：事件通知、Pipelines和Workflows。事件通知服务允许开发者在数据发生变化时触发异步任务，比如更新搜索索引或处理用户上传的文件。这个服务未来还会扩展，支持更多类型的事件，如Workers KV键值对的更改和D1数据库的更新。
- Pipelines是一个即将推出的服务，用于大规模地摄取、聚合数据，并直接写入Cloudflare R2对象存储服务。这个服务的亮点在于它的易用性，开发者可以创建一个可扩展的数据处理端点，而无需编写任何代码。Pipelines支持多种数据传输协议，包括HTTP、WebSocket和Kafka，这使得数据的摄取过程更加灵活和高效。
- Workflows是Cloudflare的另一个创新，它是一种持久执行的工作流，能够在计算资源出现故障时从中断的地方恢复执行。这意味着开发者可以构建可靠的、可重复的工作流，而不必担心底层计算资源的问题。Workflows运行在Cloudflare Workers上，开发者只需编写工作流，剩下的就交给Cloudflare。
- 文章还强调了Cloudflare的网络作为一个大规模的数据处理集群的能力，可以在符合监管要求的同时，在全球范围内高效地运行计算任务。此外，Cloudflare承诺他们的所有数据产品都不会收取出口费用，这包括了Pipelines服务。这些新工具和服务的推出，旨在帮助开发者更高效地构建和运行互联网规模的应用程序，同时减少对基础设施管理的担忧。

9. **[使用 Prisma ORM 改善 Cloudflare Workers 和 D1 开发者体验](https://blog.cloudflare.com/prisma-orm-and-d1)**
- 在当今这个数据驱动的世界里，开发者们常常在数据库的海洋中挣扎，面对日益复杂的数据操作，传统的CRUD（创建、读取、更新、删除）已经远远不够用了。幸运的是，Cloudflare Workers 和 D1 携手 Prisma ORM，为开发者们带来了一丝曙光。文章通过一个简单却颇具启发性的案例——创建一个记录网站访问者数量的应用，展示了这一组合如何让开发者们的工作变得更加轻松愉快。
- 文章首先指出，数据库操作的复杂性正在不断增加，这不仅让开发者们在迭代过程中感到困难重重，还可能影响到他们的工作效率。为了解决这一问题，Cloudflare Workers 和 D1 通过减少管理基础设施和部署应用程序的时间，为开发者们提供了便利。而 Prisma ORM 则通过提供直观的数据建模语言、自动化迁移工作流和类型安全的客户端，让开发者们能够更加专注于他们最擅长和最喜欢的事情——开发。
- 文章接着详细介绍了如何开始使用 Prisma ORM 和 D1。首先，创建一个基本的 Cloudflare Workers 应用程序，然后通过一系列命令行操作设置 D1 数据库，初始化 Prisma ORM，并创建第一个模型。通过这个模型，开发者可以跟踪每个访问者的信息。文章还展示了如何生成和应用迁移文件，以及如何使用 Prisma 客户端进行数据库操作。
- 最后，文章通过一个实际的应用程序示例，演示了如何记录和报告网站访问者数量。这个示例不仅展示了 Prisma ORM、Cloudflare Workers 和 D1 的强大功能，也体现了它们如何简化开发流程，提高开发效率。

10. **[Picsart 如何利用 Cloudflare 的开发者平台构建全球高性能服务](https://blog.cloudflare.com/picsart-move-to-workers-huge-performance-gains)**
- Picsart，一个全球知名的数字创作平台，面临着一个让许多全球性服务头疼的问题：如何让分布在世界各地的用户都能享受到快速且稳定的服务体验？他们之前的解决方案是依赖单一数据中心，但这在光速不可超越的物理法则面前显得力不从心。为了解决这个问题，Picsart 转向了 Cloudflare 的开发者平台，特别是 Workers 和 Workers KV 存储服务。
- Cloudflare 的 Workers 平台以其在全球 310 多个城市的分布，为 Picsart 提供了就近服务用户的能力，大大减少了网络延迟。而 Workers KV 存储则让数据像藏在用户后院的宝藏一样，随时待命。这些技术的运用，让 Picsart 的服务性能得到了显著提升，成功地将实验配置成功送达的比例从 50% 提升到了 85%，全球中位响应时间更是从 1500 毫秒降低到了 280 毫秒。
- 但 Picsart 的故事并不止于此，他们还采用了一种独特的数据分割策略，将原本的“大而全”的配置文件拆分成了针对不同平台和地区的小文件，这样做不仅提高了数据处理的效率，还减少了不必要的计算开销。而且，他们还采用了一种“不可变更新”的模式，每次配置更新都生成新的记录，而不是修改旧的，这样既保证了数据的快速更新，又维持了高效的缓存性能。
- 文章中还提到了 Picsart 在客户端优化上的巧妙思路，比如在应用启动时预建立与服务器的连接，减少了连接建立的时间。这些优化让 Picsart 的应用加载速度更快，用户体验得到了显著提升。
- 总的来说，Picsart 的案例展示了一个全球性服务如何通过技术创新和优化，克服了物理限制，提供了更好的用户体验。这个故事不仅仅是关于性能提升的数字游戏，更是关于如何在全球化的挑战中找到突破点，实现技术和业务双赢的精彩篇章。

11. **[R2 添加事件通知、支持从 Google Cloud Storage 迁移和低频访问存储层](https://blog.cloudflare.com/r2-events-gcs-migration-infrequent-access)**
- Cloudflare R2 近期推出了三项新功能，旨在提升其对象存储平台的性能和用户体验。首先，事件通知功能的开放测试版允许用户在R2数据桶中的数据发生变化时，自动触发Worker并执行预设动作。这一功能通过向队列发送消息来实现，用户可以通过特定的Wrangler命令启用事件通知，从而根据数据的变化构建应用程序和工作流。
- 其次，Cloudflare R2 引入了Super Slurper工具，专门用于从Google Cloud Storage (GCS) 轻松迁移数据至R2。Super Slurper的设计初衷是简化一次性全面数据迁移的过程，使其变得快速、可靠且易于操作。自去年发布以来，已有众多开发者利用Super Slurper将大量数据从AWS S3迁移至R2，现在GCS用户也能享受这一便利，迁移数据并利用Cloudflare的零出口费用优势。
- 最后，Cloudflare R2 推出了非经常访问存储层的私人测试版。这一新存储类别适用于不常访问的数据，如用户生成的长尾内容和日志等。通过使用非经常访问存储类别，用户可以在保持数据性能和耐用性的同时，降低存储成本。用户可以通过Workers将对象上传到R2桶，并选择新的存储类别。此外，还可以设置对象生命周期策略，以便在不再需要频繁访问数据时，自动将其转移到非经常访问存储。
- 这些新功能的加入，不仅增强了Cloudflare R2的市场竞争力，也为用户提供了更多灵活性和成本效益。未来，Cloudflare 计划自动优化数据存储类，以适应不断变化的数据访问模式，进一步提升用户体验。对于存储在非经常访问存储类别中的数据，定价结构与R2相同，但数据检索费用按GB收费，这也是实现更低存储价格的关键。

12. **[Cloudflare 媒体的最新更新：Calls、Stream 和 Images](https://blog.cloudflare.com/whats-next-for-cloudflare-media)**
- 好的，让我们来聊聊Cloudflare的最新动态。最近，Cloudflare对其媒体服务进行了一系列的升级，旨在让客户能够更加轻松地打造实时、互动的用户体验。首先，Cloudflare Calls 现在开放给所有人进行测试，而且直到5月15日都是免费的哦！这意味着你可以尽情地尝试实时视频和音频应用程序，而不用担心费用问题。
- 但是，如果你想要留住那些直播中的高光时刻，Cloudflare Stream的新功能——实时剪辑API——可能正是你需要的。想象一下，你正在观看一场激动人心的电子竞技比赛，突然发生了一个令人瞠目结舌的操作，你肯定想要立刻剪辑下来分享到社交媒体上。现在，Cloudflare Stream让你的观众可以轻松做到这一点，无需重新编码视频，就能即时剪辑和分享直播流中的精彩瞬间。
- 接下来是Cloudflare Images的更新。如果你的应用程序需要处理用户上传的图片，那么新的上传部件将是你的好帮手。只需几行代码，你就可以将这个交互式的UI集成到你的应用中，让用户直接上传图片到Cloudflare Images账户。更酷的是，Cloudflare Images现在还提供了自动面部裁剪功能，无论你需要多少张人物图像，它都能帮你按比例裁剪和调整大小，非常适合社交媒体应用。

13. **[生产安全的新工具 — 渐进式部署、源映射、速率限制和新的 SDK](https://blog.cloudflare.com/workers-production-safety)**
- 在2024年的开发人员周上，Cloudflare宣布了一系列创新工具和功能，旨在提升生产环境的安全性和可靠性。首先，Cloudflare推出了渐进式部署功能，允许开发者通过Cloudflare API、Wrangler CLI或Workers仪表板逐步部署代码变更，从而降低生产规模变更带来的风险。这种渐进式部署类似于滚动部署，通过在生产环境中仅将小部分流量路由到新版本，并监控性能和错误，使得开发者能够在问题扩大前及时发现并迅速回滚。
- 为了帮助开发者更有效地调试生产环境中的错误，Cloudflare引入了源映射功能，它可以将编译和压缩后的代码映射回原始源代码，提供更易于理解的堆栈跟踪信息。这项功能对于调试经过捆绑、转码和最小化的JavaScript代码尤为重要。开发者可以通过设置`upload_source_maps = true`在wrangler.toml中，使得Wrangler在部署时自动生成并上传源映射文件。从4月15日起，Workers运行时将开始使用源映射来消除堆栈跟踪，使得调试过程更加直观和高效。
- Cloudflare还推出了新的速率限制API，允许开发者直接在Worker中访问和控制速率限制。这个API基于memcached，可以定义在特定时间段内的请求限制，从而更好地管理API的使用和保护服务健康。开发者可以通过简单的配置和代码调用，实现对请求速率的控制。这项功能目前处于开放测试阶段，开发者可以通过阅读文档开始使用。
- 此外，Cloudflare宣布了新的自动生成的客户端SDK，支持Typescript、Python和Go三种语言。这些SDK是根据OpenAPI架构自动生成的，确保了与Cloudflare API的最新变更保持一致性和正确性。开发者可以通过简单的命令安装这些SDK，并利用它们进行编程，从而提高生产准备性。
- 最后，Cloudflare对Durable Objects进行了两项重要更新。首先，改进了仪表板，提供了更深入的指标分析功能，帮助开发者更好地理解和管理Durable Objects的使用模式和错误率。其次，推出了WebSocket Hibernation功能，允许在没有活动时自动“休眠”，从而节省资源和成本。此外，Cloudflare还调整了WebSocket消息的计费方式，使得传入消息的成本更低，更符合实时通信的需求。
- 这些更新展示了Cloudflare致力于提供一个集成的平台，让产品之间能够直观地协同工作，简化开发者的生产流程。Cloudflare鼓励开发者提供反馈，帮助他们不断改进产品和服务。通过这些努力，Cloudflare旨在帮助开发者构建更安全、更高效的互联网规模应用程序，并支持他们实现零信任的旅程。

14. **[宣布支持 monorepos、wrangler.toml、数据库集成等功能的 Pages！](https://blog.cloudflare.com/pages-workers-integrations-monorepos-nextjs-wrangler)**
- Cloudflare Pages 最新动态真是让开发者们眼前一亮，这次更新不仅让从点子到产品的流程更加流畅，还让开发者们在一个项目里轻松玩转多个应用。想象一下，你的项目就像是一个充满创意的宝箱，而每个应用都是宝箱里的一颗璀璨宝石，它们可以独立构建和部署，这就是支持 monorepos 的强大之处。
- 这次更新的重头戏之一是引入了 wrangler.toml，这个配置文件就像是你的项目的“魔法书”，让所有设置变得井然有序。它还巧妙地解决了配置与代码分离的老大难问题，现在，你只需在代码编辑器里轻轻一点，就能完成配置的调整，再也不用在控制面板和代码之间来回奔波了。
- 数据库集成的加入，更是让 Pages 功能如虎添翼。现在，开发者可以轻松地将 Pages 项目与他们钟爱的数据库连接起来，无论是 Cloudflare 自家的 D1，还是其他热门数据库服务，都能轻松实现一键连接。这就像是给你的项目装上了火箭，助它一飞冲天。
- 文章中还特别提到了对 Next.js 的优化，这对使用这个流行框架的开发者来说无疑是个巨大的福音。新的 ESLint 插件、getRequestContext() API 以及改进的本地开发流程，都让 Next.js 在 Pages 上的表现更加出色。
- 最后，Cloudflare 还透露了未来的一些规划，比如将 Pages 的 CI/CD 系统引入 Workers，以及为 Workers 添加预览 URL 等功能。这些更新不仅让 Pages 和 Workers 的界面更加统一，也让开发者能够更加轻松地构建和部署全栈应用程序。

15. **[Cloudflare Calls 开放测试：打造低延迟的实时通信新体验](https://blog.cloudflare.com/cloudflare-calls-anycast-webrtc)**
- 想要了解 Cloudflare 的最新动态吗？Cloudflare Calls 现在开放测试了！这个服务让开发者可以轻松构建实时音视频应用，而且操作起来超级简单，因为它把复杂的 Cloudflare 网络变成了一个统一的 SFU。想象一下，不管你的用户在哪里，都能享受到低延迟的通信体验，这都得益于 Anycast 技术带来的优势。
- 文章中提到了一个有趣的现象：随着视频会议参与者的增加，数据传输量会呈指数级增长，这就像是每个人都要给其他人发信息，信息量简直爆炸。但是 Cloudflare Calls 通过巧妙的架构设计，解决了这个问题，让大规模实时通信变得可行。
- Cloudflare Calls 还有一个独特的地方，它没有“房间”概念，取而代之的是灵活的会话和轨道管理。这意味着开发者可以根据自己的需求，创造出各种各样的通信场景，从一对一的私密对话到大规模的公开直播，应有尽有。
- 更酷的是，Cloudflare Calls 还提供了边缘的 "NACK 屏蔽" 技术，这可以在数据包丢失时迅速响应，减少延迟，让通信更加流畅。而且，它还提供了_TURN_服务，即使在复杂的网络环境下也能保持连接。
- 目前，Cloudflare Calls 正在免费测试中，但从 2024 年 5 月 15 日起，超出每月 1TB 的流量将开始收费。

16. **[Cloudflare 收购 PartyKit，允许开发者构建实时多用户应用程序](https://blog.cloudflare.com/cloudflare-acquires-partykit)**
- Cloudflare 近期宣布了一个令人振奋的消息：他们收购了 PartyKit，这是一个开源平台，专注于部署实时、协作性强的多人应用程序。这次收购代表了 Cloudflare 在无服务器计算领域的一次重大进展，目标是让无服务器计算变得更加动态、交互性强，并具备状态保持的能力。
- 文章中强调了构建网络实时应用程序的挑战，尤其是在分布式系统问题和跨客户端维持状态方面的复杂性。Cloudflare 通过 Durable Objects 技术解决了这一问题，提供了一种有状态的无服务器函数，这与传统的无状态函数截然不同。Durable Objects 结合 WebSockets 技术，使得开发者能够构建从多人游戏到协作绘图工具等多种应用程序。
- PartyKit 的出现进一步简化了这一过程，它通过提供熟悉的组件接口，使得开发者更容易利用 Durable Objects 的能力。此外，PartyKit 还支持本地优先应用程序的开发，即使在离线状态下也能保持工作进度，这对于网络连接不稳定的情况尤为重要。
- Cloudflare 承诺将继续支持 PartyKit 用户的现有项目，并计划为平台增加更多功能，例如在现有的 Workers 和 Pages 项目中直接使用 PartyKit 项目。商业用途的使用也不会产生额外费用，只需支付 Cloudflare Workers 和其他服务的标准使用费。此外，Cloudflare 还计划扩展 PartyKit 的功能，与流行的开发框架和库进行集成，如 React、Vue 和 Angular，以便开发者能够更便捷地构建应用程序。
- 总结来说，Cloudflare 收购 PartyKit 标志着无服务器计算领域的一次重要变革，它不仅为开发者提供了更强大的工具，还推动了实时多用户应用程序的开发。这次收购预示着无服务器计算的未来将更加注重状态管理，为开发者和用户带来更加丰富和高效的应用体验。

17. **[使用全栈框架和 Cloudflare 进行快速开发](https://blog.cloudflare.com/blazing-fast-development-with-full-stack-frameworks-and-cloudflare)**
- 这篇文章带来了令人振奋的消息：Cloudflare 针对全栈框架开发者推出了一系列创新改进，让开发变得更加迅速和直观。想象一下，你只需几次键盘敲击，就能在本地环境中轻松调用 Cloudflare 的 D1 SQL 数据库、R2 对象存储和 AI 模型等强大工具，这无疑将开发效率提升到了一个新的高度。
- 文章中提到的 create-cloudflare CLI（C3）工具，就像是一把魔法钥匙，轻松打开了 Cloudflare 平台的大门。通过它，开发者可以快速搭建应用框架，而无需担心复杂的配置问题。这就好比是给你的开发流程装上了涡轮增压器，让一切变得飞快。
- 文章还展示了如何使用 C3 创建新应用，并以一个简单的例子——列出数据库中的产品列表——来说明整个过程。这不仅仅是一个简单的教程，更是 Cloudflare 强大功能的一次生动展示。通过 `getPlatformProxy()` API，开发者可以在 Node.js 和 workerd 之间架起一座桥梁，让代码的调用和资源的访问变得无比顺畅。
- 最引人注目的是，Cloudflare 正在与 Vite 团队合作，探索将 Cloudflare 的 workerd 直接集成到开发服务器中的可能性。这将使得开发者能够在一个与生产环境几乎相同的运行时中进行本地开发，大大减少了开发和部署之间的摩擦。
- 总的来说，这篇文章不仅仅是关于技术升级的介绍，更是 Cloudflare 对开发者社区的一次深情告白。它告诉我们，无论是在本地开发还是在云端部署，Cloudflare 都致力于让这个过程变得更加简单、高效。这不仅是技术的进步，更是开发者的福音。所以，如果你还在为开发效率发愁，不妨关注一下 Cloudflare 的这些新动态，它们可能会给你带来意想不到的惊喜！

18. **[社区更新：赋能在 Cloudflare 上构建的初创公司并创建一个包容性社区](https://blog.cloudflare.com/2024-community-update)**
- Cloudflare最近在其开发者周上宣布了一系列令人振奋的更新，旨在进一步支持和激励全球的开发者社区。首先，他们推出了Workers Launchpad计划，这是一个专门为初创企业设计的资金支持项目，总额高达20亿美元。该计划为初创企业提供了丰富的资源，包括建立创始人社区、与顶尖投资者的网络对接、虚拟创始人训练营、技术办公时间以及预览即将推出的Cloudflare产品等。自该计划启动以来，已有来自13个国家的50家初创企业成功毕业，而第三批入选的29家初创企业更是覆盖了AI、SaaS、供应链、媒体、游戏、酒店和开发人员生产力等多个行业，展示了他们利用Cloudflare的开发者工具集来扩展业务的潜力。
- 除了Workers Launchpad计划，Cloudflare还与DEV合作，推出了AI开发者挑战赛。这个挑战赛鼓励开发者利用Cloudflare不断增长的开放模型目录中的AI任务类型，构建创新的Workers AI应用程序。参赛作品将根据创新性、创造性和对底层技术的展示进行评估，优胜者将获得DEV颁发的奖项。
- 随着社区的快速发展，Cloudflare也意识到了维护一个安全、包容的社区环境的重要性。因此，他们制定了新的《行为准则》，以促进社区的包容性和尊重，并帮助创建一个更好的社区。Cloudflare鼓励社区成员提供反馈，分享他们希望在社区和Discord服务器中看到的改进，共同打造一个更具包容性和帮助性的社区。
- 总的来说，Cloudflare的这些举措不仅展示了其对开发者社区的承诺，也体现了其推动技术创新和社区文化进步的决心。通过提供资金支持、技术资源和社区建设，Cloudflare正在帮助开发者和初创企业实现更大的成功，并为构建一个更加开放和包容的互联网环境做出贡献。

19. **[浏览器渲染 API GA，Cloudflare Snippets、SWR 的推出以及将 Workers for Platforms 推广给所有用户](https://blog.cloudflare.com/browser-rendering-api-ga-rolling-out-cloudflare-snippets-swr-and-bringing-workers-for-platforms-to-our-paygo-plans)**
- 这篇文章主要介绍了Cloudflare推出的几项新功能和服务，旨在提升开发者的工作效率和改善用户体验。
- 首先，文章宣布浏览器渲染API（Browser Rendering API）已经结束测试阶段，现在对所有付费Workers客户开放。这项API让开发者能够通过编程控制无头浏览器实例，创建自动化流程，如页面截图或自动软件测试。为了提高性能和降低成本，Cloudflare引入了会话管理功能，允许开发者重用浏览器会话，避免了为每个请求和任务实例化新浏览器的需要。
- 其次，Cloudflare Snippets功能正在逐步向用户推广。这是一种强大的工具，允许在Cloudflare上执行复杂的HTTP请求和响应修改。自2022年开发者周首次宣布以来，Snippets的使用量在2024年前三个月增长了7倍以上。尽管Snippets仍处于alpha版本，Cloudflare计划通过分阶段的方式推出，以确保稳定性和用户体验。
- 接着，文章预告了即将推出的SWR（stale-while-revalidate）缓存指令。这是一种异步重新验证机制，可以在提供过期或陈旧版本的资源的同时，检查是否有更新的版本可用。这将有助于减少延迟，提高性能，并确保用户始终能够访问最新的内容。
- 最后，Cloudflare宣布将在2024年4月16日推出Workers for Platforms服务。这项服务允许开发者在Cloudflare平台上部署自定义代码，或让用户直接部署自己的代码，无需管理任何基础设施。这项服务支持所有与Workers相关的绑定，包括Workers AI、D1、Durable Objects以及Python Workers，为开发者提供了极大的灵活性和便利。
- 文章还提到了Cloudflare为Workers for Platforms提供的可观察性和平台级控制工具，如自定义限制、尾部Workers和出站Workers等，以及新的$25现收现付计划，旨在确保Workers for Platforms对各种规模的开发者都是可负担的。
- 总的来说，Cloudflare的这些新功能和服务将极大地提升开发者构建和部署应用程序的能力，同时确保了高性能和高安全性的网络体验。

20. **[Cloudflare 收购 Baselime 扩展无服务器应用的可观察性能力](https://blog.cloudflare.com/cloudflare-acquires-baselime-expands-observability-capabilities)**
- Cloudflare 最近搞了个大新闻，他们把 Baselime 给收购了，这是一家专注于无服务器应用程序可观察性的公司。想象一下，无服务器架构就像是云计算界的新宠，让开发者们可以更加轻松地构建应用程序，但同时也带来了一些挑战，比如怎么去理解那些分散在各个角落的系统行为。
- Baselime 从一开始就立志要让开发者们能够更好地理解和管理他们的无服务器应用，他们开发了一个平台，能够处理那些复杂到让人头疼的高卡因度和维度性数据。简单来说，就是帮你从海量信息中找出有用的洞察，让你能够快速定位和解决问题。而且，他们还紧跟潮流，用 OpenTelemetry 这个工具来帮助开发者更好地追踪和监控应用程序。
- Cloudflare 看中了 Baselime 的这些独特能力，决定把它们整合到自己的平台中。Cloudflare 一直在构建所谓的“连接云”，提供了一系列创新的工具和服务，比如 Workers、D1、R2 等。这次收购就像是给他们的云计算工具箱里又添了一件利器。
- 文章中还提到了一个很有意思的观点，那就是“可观察性没有行动就只是存储”。现在的很多工具虽然能存储大量的日志和指标，但如果开发人员不会用，那这些数据就只是占地方的垃圾。Baselime 想要改变这一点，他们想让可观察性变得更加直观和易于操作，让开发者能够真正利用这些数据来提升他们的应用程序。
- 最后，Cloudflare 承诺会持续改进 Baselime 的产品，并将其完全免费提供给开发者。他们还计划在未来让 Baselime 的功能直接集成到 Cloudflare 的控制面板中，让开发者能够更方便地观察和管理他们的应用程序。这次收购不仅是技术上的一次飞跃，也是对开发者社区的一次巨大支持。

21. **[我们在 Cloudflare Workers 中添加了 JavaScript 本地 RPC](https://blog.cloudflare.com/javascript-native-rpc)**
- Cloudflare Workers 刚刚推出了一项令人兴奋的新功能——JavaScript 原生 RPC（远程过程调用）系统。这个系统旨在简化 Worker 之间的通信，以及 Worker 与持久对象之间的交互。通过这种方式，开发者可以几乎不用编写任何模板代码，就能轻松实现 Worker 之间的服务调用。
- 文章强调了 Workers RPC 的易用性和安全性。易用性体现在开发者只需定义一个类并调用其方法，就像使用本地库一样简单。而安全性则来自于减少了依赖性，这意味着更少的关键安全更新和更低的供应链攻击风险。此外，Workers RPC 支持传递结构化可克隆类型，如 Date 对象，甚至支持循环引用和函数传递，这些都大大提高了 RPC 的灵活性和表现力。
- 性能方面，Workers RPC 同样表现出色。特别是在同一线程中运行的 Worker 之间的调用，延迟几乎为零，使得远程调用几乎和本地函数调用一样快。即使 RPC 需要跨越网络，系统也能通过单次网络往返实现多个方法的调用，同时支持字节流的传输和自动流控制。
- 文章还介绍了基于能力的安全概念，这是一种将安全自然融入 API 的方式。通过一个身份验证服务的示例，展示了如何使用 RPC 来增强安全性。这种安全机制确保了只有通过验证的客户端才能执行对用户数据的操作，从而保护了用户数据的安全。
- 最后，Cloudflare 提出了一个未来设想，即将 Workers RPC 作为 "绑定市场" 的基础，让开发者能够轻松安全地共享和使用丰富的 JavaScript API。这个设想有望进一步扩展 Workers 平台的功能，让开发者之间的协作更加便捷和安全。
- 总结来说，Cloudflare Workers 的新 RPC 系统是一个强大的工具，它通过简化通信流程、提高性能和增强安全性，为开发者提供了更加高效和安全的编程体验。这一创新无疑将对现代 Web 开发产生深远的影响。

22. **[Developer Week 2024 总结](https://blog.cloudflare.com/developer-week-2024-wrap-up)**
- 2024年开发者周（Developer Week 2024）为Cloudflare带来了一系列令人瞩目的新产品和功能，这场技术盛宴不仅展示了Cloudflare对开发者社区的深厚承诺，更是一次对未来互联网应用构建方式的大胆预测。
- 在这次活动中，Cloudflare没有停留在表面的更新，而是深入到开发者的日常痛点，推出了一系列旨在简化全栈应用程序构建的工具。D1，Cloudflare的SQL数据库，现在已经全面开放，让开发者可以更加轻松地存储和持久化数据。而Hyperdrive，这个数据库加速服务，也加入了全面可用的行列，让数据管理变得更加高效。
- Cloudflare Workers AI的推出，无疑是这次活动中的一大亮点。它不仅成为了一般可用（GA）的服务，还引入了对微调模型的支持，让开发者可以更加灵活地部署AI模型。此外，Python的加入，让Cloudflare Workers的支持语言更加丰富，进一步拓宽了开发者的选择范围。
- 当然，技术的进步总是伴随着对现有问题的解决。Cloudflare R2的更新，通过增加事件通知、支持从Google Cloud Storage迁移以及引入新的存储层级，让数据迁移和存储变得更加简单和经济。
- 文章中还提到了两个独特的案例，FAN Communications和Milkshake，它们通过使用Cloudflare的服务，不仅提升了业务效率，还实现了成本的大幅节约。这些案例不仅证明了Cloudflare服务的实用性，也为其他企业提供了宝贵的参考。
- 最后，Cloudflare通过收购Baselime和PartyKit，进一步扩展了其无服务器应用程序的可观察性和实时多用户应用程序的开发能力。这些举措无疑将推动Cloudflare在无服务器计算领域的领导地位，同时也为开发者带来了更多的创新可能性。
- 总的来说，2024年开发者周是Cloudflare对开发者社区的一次深情告白，也是对未来互联网技术发展的一次大胆投资。随着这些新工具和功能的推出，我们有理由相信，未来的互联网世界将变得更加智能、高效和安全。
